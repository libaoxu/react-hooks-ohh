{"ast":null,"code":"/**\n *  @name 项目名称\n *  @author 开发人员\n *  @date 开发时间\n */\nimport React, { Component, useState, useEffect } from 'react'; // import { connect } from 'react-redux'\n\nimport { Message } from 'antd';\nimport stringifyParams from 'ik-utils/lib/admin/stringifyParams';\nimport S from './apis';\nimport { ADD, VIEW, MODIFY } from './constants/modalTypes';\nimport PageFilter from './components/PageFilter';\nimport PageTable from './components/PageTable';\nimport ModalForm from './components/ModalForm';\nimport './index.css';\nconsole.log('useState: ', useState);\nexport default class PageFilterTable extends Component {\n  componentDidMount() {}\n\n  render() {\n    return 123;\n  }\n\n} // export default function AntdHooks (props) {\n//   const creatSearchParams = () => {\n//     return {\n//       uid: '',\n//       date: [],\n//       search1: '',\n//       search2: [],\n//       search3: undefined,\n//       page: 1,\n//       size: 10\n//     }\n//   }\n//   const creatFormData = () => {\n//     return {\n//       id: '',\n//       uid: '',\n//       date: undefined,\n//       form1: '',\n//       form2: [],\n//       form3: undefined\n//     }\n//   }\n//   const creatModalConfig = () => {\n//     return {\n//       visible: false, // 弹窗是否显示\n//       title: '', // 弹窗标题\n//       type: '' // 弹窗类型\n//     }\n//   }\n//   // 查询条件\n//   const [searchParams, setSearchParams] = useState(creatSearchParams())\n//   // 弹窗内容\n//   const [formData, setFormData] = useState(creatFormData())\n//   // 弹窗配置\n//   const [modalConfig, setModalConfig] = useState(creatModalConfig())\n//   // 列表数据\n//   const [tableData, setTableData] = useState([])\n//   // 列表条数\n//   const [tableTotal, setTableTotal] = useState(0)\n//   const [tableRef, setTableRef] = useState(null)\n//   const [modalFormRef, setModalFormRef] = useState(null)\n//   // 获取数据\n//   const getDataList = () => {\n//     console.log('查询', searchParams)\n//     S.getDataList(searchParams)\n//       .then(({ data }) => {\n//         Message.success('查询成功')\n//         setTableData(data.list || [])\n//         setTableTotal(+data.total)\n//       })\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'SEARCH',\n//     //   request_params: searchParams\n//     // })\n//   }\n//   // 查询\n//   const handleSearch = params => {\n//     setSearchParams({\n//       ...params,\n//       page: 1\n//     })\n//     getDataList()\n//   }\n//   // 新增\n//   const handleAdd = () => {\n//     setModalConfig({\n//       visible: true,\n//       title: '新增',\n//       type: ADD\n//     })\n//     setFormData(formData)\n//   }\n//   // 导出\n//   const handleExport = params => {\n//     delete params.page\n//     delete params.size\n//     console.log('导出', `${S.dataListExport}&${stringifyParams(params)}`)\n//     // window.open(`${S.dataListExport}&${stringifyParams(params)}`)\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'EXPORT',\n//     //   request_params: params\n//     // })\n//   }\n//   // 查看\n//   const handleView = params => {\n//     setModalConfig({\n//       visible: true,\n//       title: '查看',\n//       type: VIEW\n//     })\n//     setFormData({\n//       ...formData,\n//       ...params\n//     })\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'VIEW',\n//     //   request_params: ''\n//     // })\n//   }\n//   // 编辑\n//   const handleEdit = params => {\n//     setModalConfig({\n//       visible: true,\n//       title: '编辑',\n//       type: MODIFY\n//     })\n//     setFormData({\n//       ...formData,\n//       ...params\n//     })\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'MODIFY',\n//     //   request_params: ''\n//     // })\n//   }\n//   // 删除\n//   const handleDel = id => {\n//     console.log('删除', id)\n//     S.postDataDel({ id })\n//       .then(() => {\n//         Message.success('删除成功')\n//         /**\n//          *  @overview 如果删除操作只是修改状态，需将以下判断注释\n//          */\n//         if (searchParams.page > 1 && tableData.length <= 1) {\n//           setSearchParams({\n//             ...searchParams,\n//             page: searchParams.page - 1\n//           })\n//         }\n//         getDataList()\n//       })\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'DEL',\n//     //   request_params: { id }\n//     // })\n//   }\n//   // 提交内容\n//   const handleSubmit = params => {\n//     const { title, type } = modalConfig\n//     console.log('提交', params)\n//     switch (type) {\n//       case ADD:\n//       case MODIFY:\n//         S.postDataModify(params)\n//           .then(() => {\n//             Message.success('提交成功')\n//             getDataList()\n//             hideDialog()\n//           })\n//         break\n//       default:\n//         hideDialog()\n//     }\n//     // this.$log.reportBtn({\n//     //   btnId: `${type}_submit`,\n//     //   btnName: `${title}_提交`,\n//     //   request_params: params\n//     // })\n//   }\n//   // 关闭弹窗\n//   const hideDialog = () => {\n//     setFormData(creatFormData())\n//     setModalConfig({\n//       ...modalConfig,\n//       visible: false,\n//       type: ''\n//     })\n//     modalFormRef.resetFields()\n//   }\n//   const handlePageChange = (page, size) => {\n//     setSearchParams({\n//       ...searchParams,\n//       ...{\n//         page,\n//         size\n//       }\n//     })\n//     getDataList()\n//   }\n//   const handleSizeChange = (page, size) => {\n//     setSearchParams({\n//       ...searchParams,\n//       ...{\n//         page: 1,\n//         size\n//       }\n//     })\n//     getDataList()\n//   }\n//   return (\n//     <section>\n//       <PageFilter\n//         {...this.props}\n//         searchParams={searchParams}\n//         handleSearch={handleSearch}\n//         handleAdd={handleAdd}\n//         handleExport={handleExport}\n//       />\n//       <PageTable\n//         {...this.props}\n//         tableData={tableData}\n//         tableTotal={tableTotal}\n//         searchParams={searchParams}\n//         handlePageChange={handlePageChange}\n//         handleSizeChange={handleSizeChange}\n//         handleView={handleView}\n//         handleEdit={handleEdit}\n//         handleDel={handleDel}\n//         wrappedComponentRef={ref => { setTableRef(ref) }}\n//       />\n//       <ModalForm\n//         {...this.props}\n//         formData={formData}\n//         modalConfig={modalConfig}\n//         hideDialog={hideDialog}\n//         handleSubmit={handleSubmit}\n//         wrappedComponentRef={ref => { setModalFormRef(ref) }}\n//       />\n//     </section>\n//   )\n// }","map":{"version":3,"sources":["/Users/ouhao/inke/react-hooks/src/index.js"],"names":["React","Component","useState","useEffect","Message","stringifyParams","S","ADD","VIEW","MODIFY","PageFilter","PageTable","ModalForm","console","log","PageFilterTable","componentDidMount","render"],"mappings":"AAAA;;;;;AAMA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD,C,CACA;;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,OAAOC,eAAP,MAA4B,oCAA5B;AAEA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,GAAT,EAAcC,IAAd,EAAoBC,MAApB,QAAkC,wBAAlC;AAEA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAEA,OAAO,aAAP;AAEAC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BZ,QAA1B;AAEA,eACA,MAAMa,eAAN,SAA8Bd,SAA9B,CAAwC;AACtCe,EAAAA,iBAAiB,GAAI,CAEpB;;AACDC,EAAAA,MAAM,GAAI;AACR,WAAO,GAAP;AACD;;AANqC,C,CAQxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n *  @name 项目名称\n *  @author 开发人员\n *  @date 开发时间\n */\n\nimport React, { Component, useState, useEffect } from 'react'\n// import { connect } from 'react-redux'\nimport { Message } from 'antd'\nimport stringifyParams from 'ik-utils/lib/admin/stringifyParams'\n\nimport S from './apis'\nimport { ADD, VIEW, MODIFY } from './constants/modalTypes'\n\nimport PageFilter from './components/PageFilter'\nimport PageTable from './components/PageTable'\nimport ModalForm from './components/ModalForm'\n\nimport './index.css'\n\nconsole.log('useState: ', useState)\n\nexport default\nclass PageFilterTable extends Component {\n  componentDidMount () {\n\n  }\n  render () {\n    return 123\n  }\n}\n// export default function AntdHooks (props) {\n//   const creatSearchParams = () => {\n//     return {\n//       uid: '',\n//       date: [],\n//       search1: '',\n//       search2: [],\n//       search3: undefined,\n//       page: 1,\n//       size: 10\n//     }\n//   }\n//   const creatFormData = () => {\n//     return {\n//       id: '',\n//       uid: '',\n//       date: undefined,\n//       form1: '',\n//       form2: [],\n//       form3: undefined\n//     }\n//   }\n//   const creatModalConfig = () => {\n//     return {\n//       visible: false, // 弹窗是否显示\n//       title: '', // 弹窗标题\n//       type: '' // 弹窗类型\n//     }\n//   }\n\n//   // 查询条件\n//   const [searchParams, setSearchParams] = useState(creatSearchParams())\n//   // 弹窗内容\n//   const [formData, setFormData] = useState(creatFormData())\n//   // 弹窗配置\n//   const [modalConfig, setModalConfig] = useState(creatModalConfig())\n//   // 列表数据\n//   const [tableData, setTableData] = useState([])\n//   // 列表条数\n//   const [tableTotal, setTableTotal] = useState(0)\n\n//   const [tableRef, setTableRef] = useState(null)\n//   const [modalFormRef, setModalFormRef] = useState(null)\n\n//   // 获取数据\n//   const getDataList = () => {\n//     console.log('查询', searchParams)\n//     S.getDataList(searchParams)\n//       .then(({ data }) => {\n//         Message.success('查询成功')\n//         setTableData(data.list || [])\n//         setTableTotal(+data.total)\n//       })\n\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'SEARCH',\n//     //   request_params: searchParams\n//     // })\n//   }\n\n//   // 查询\n//   const handleSearch = params => {\n//     setSearchParams({\n//       ...params,\n//       page: 1\n//     })\n//     getDataList()\n//   }\n\n//   // 新增\n//   const handleAdd = () => {\n//     setModalConfig({\n//       visible: true,\n//       title: '新增',\n//       type: ADD\n//     })\n//     setFormData(formData)\n//   }\n\n//   // 导出\n//   const handleExport = params => {\n//     delete params.page\n//     delete params.size\n\n//     console.log('导出', `${S.dataListExport}&${stringifyParams(params)}`)\n//     // window.open(`${S.dataListExport}&${stringifyParams(params)}`)\n\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'EXPORT',\n//     //   request_params: params\n//     // })\n//   }\n\n//   // 查看\n//   const handleView = params => {\n//     setModalConfig({\n//       visible: true,\n//       title: '查看',\n//       type: VIEW\n//     })\n//     setFormData({\n//       ...formData,\n//       ...params\n//     })\n\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'VIEW',\n//     //   request_params: ''\n//     // })\n//   }\n\n\n//   // 编辑\n//   const handleEdit = params => {\n//     setModalConfig({\n//       visible: true,\n//       title: '编辑',\n//       type: MODIFY\n//     })\n//     setFormData({\n//       ...formData,\n//       ...params\n//     })\n\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'MODIFY',\n//     //   request_params: ''\n//     // })\n//   }\n\n//   // 删除\n//   const handleDel = id => {\n//     console.log('删除', id)\n//     S.postDataDel({ id })\n//       .then(() => {\n//         Message.success('删除成功')\n//         /**\n//          *  @overview 如果删除操作只是修改状态，需将以下判断注释\n//          */\n//         if (searchParams.page > 1 && tableData.length <= 1) {\n//           setSearchParams({\n//             ...searchParams,\n//             page: searchParams.page - 1\n//           })\n//         }\n//         getDataList()\n//       })\n\n//     // this.$log.reportBtnWithButtonCtrl({\n//     //   key: 'DEL',\n//     //   request_params: { id }\n//     // })\n//   }\n\n//   // 提交内容\n//   const handleSubmit = params => {\n//     const { title, type } = modalConfig\n\n//     console.log('提交', params)\n//     switch (type) {\n//       case ADD:\n//       case MODIFY:\n//         S.postDataModify(params)\n//           .then(() => {\n//             Message.success('提交成功')\n//             getDataList()\n//             hideDialog()\n//           })\n//         break\n//       default:\n//         hideDialog()\n//     }\n\n//     // this.$log.reportBtn({\n//     //   btnId: `${type}_submit`,\n//     //   btnName: `${title}_提交`,\n//     //   request_params: params\n//     // })\n//   }\n\n//   // 关闭弹窗\n//   const hideDialog = () => {\n//     setFormData(creatFormData())\n//     setModalConfig({\n//       ...modalConfig,\n//       visible: false,\n//       type: ''\n//     })\n//     modalFormRef.resetFields()\n//   }\n\n//   const handlePageChange = (page, size) => {\n//     setSearchParams({\n//       ...searchParams,\n//       ...{\n//         page,\n//         size\n//       }\n//     })\n//     getDataList()\n//   }\n\n//   const handleSizeChange = (page, size) => {\n//     setSearchParams({\n//       ...searchParams,\n//       ...{\n//         page: 1,\n//         size\n//       }\n//     })\n//     getDataList()\n//   }\n\n//   return (\n//     <section>\n//       <PageFilter\n//         {...this.props}\n//         searchParams={searchParams}\n//         handleSearch={handleSearch}\n//         handleAdd={handleAdd}\n//         handleExport={handleExport}\n//       />\n\n//       <PageTable\n//         {...this.props}\n//         tableData={tableData}\n//         tableTotal={tableTotal}\n//         searchParams={searchParams}\n//         handlePageChange={handlePageChange}\n//         handleSizeChange={handleSizeChange}\n//         handleView={handleView}\n//         handleEdit={handleEdit}\n//         handleDel={handleDel}\n//         wrappedComponentRef={ref => { setTableRef(ref) }}\n//       />\n\n//       <ModalForm\n//         {...this.props}\n//         formData={formData}\n//         modalConfig={modalConfig}\n//         hideDialog={hideDialog}\n//         handleSubmit={handleSubmit}\n//         wrappedComponentRef={ref => { setModalFormRef(ref) }}\n//       />\n//     </section>\n//   )\n// }\n"]},"metadata":{},"sourceType":"module"}